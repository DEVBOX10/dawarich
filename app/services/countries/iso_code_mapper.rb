# frozen_string_literal: true

class Countries::IsoCodeMapper
  # Comprehensive country data with name, ISO codes, and flag emoji
  # Based on ISO 3166-1 standard
  COUNTRIES = {
    'AF' => { name: 'Afghanistan', iso2: 'AF', iso3: 'AFG', flag: 'ğŸ‡¦ğŸ‡«' },
    'AL' => { name: 'Albania', iso2: 'AL', iso3: 'ALB', flag: 'ğŸ‡¦ğŸ‡±' },
    'DZ' => { name: 'Algeria', iso2: 'DZ', iso3: 'DZA', flag: 'ğŸ‡©ğŸ‡¿' },
    'AS' => { name: 'American Samoa', iso2: 'AS', iso3: 'ASM', flag: 'ğŸ‡¦ğŸ‡¸' },
    'AD' => { name: 'Andorra', iso2: 'AD', iso3: 'AND', flag: 'ğŸ‡¦ğŸ‡©' },
    'AO' => { name: 'Angola', iso2: 'AO', iso3: 'AGO', flag: 'ğŸ‡¦ğŸ‡´' },
    'AI' => { name: 'Anguilla', iso2: 'AI', iso3: 'AIA', flag: 'ğŸ‡¦ğŸ‡®' },
    'AQ' => { name: 'Antarctica', iso2: 'AQ', iso3: 'ATA', flag: 'ğŸ‡¦ğŸ‡¶' },
    'AG' => { name: 'Antigua and Barbuda', iso2: 'AG', iso3: 'ATG', flag: 'ğŸ‡¦ğŸ‡¬' },
    'AR' => { name: 'Argentina', iso2: 'AR', iso3: 'ARG', flag: 'ğŸ‡¦ğŸ‡·' },
    'AM' => { name: 'Armenia', iso2: 'AM', iso3: 'ARM', flag: 'ğŸ‡¦ğŸ‡²' },
    'AW' => { name: 'Aruba', iso2: 'AW', iso3: 'ABW', flag: 'ğŸ‡¦ğŸ‡¼' },
    'AU' => { name: 'Australia', iso2: 'AU', iso3: 'AUS', flag: 'ğŸ‡¦ğŸ‡º' },
    'AT' => { name: 'Austria', iso2: 'AT', iso3: 'AUT', flag: 'ğŸ‡¦ğŸ‡¹' },
    'AZ' => { name: 'Azerbaijan', iso2: 'AZ', iso3: 'AZE', flag: 'ğŸ‡¦ğŸ‡¿' },
    'BS' => { name: 'Bahamas', iso2: 'BS', iso3: 'BHS', flag: 'ğŸ‡§ğŸ‡¸' },
    'BH' => { name: 'Bahrain', iso2: 'BH', iso3: 'BHR', flag: 'ğŸ‡§ğŸ‡­' },
    'BD' => { name: 'Bangladesh', iso2: 'BD', iso3: 'BGD', flag: 'ğŸ‡§ğŸ‡©' },
    'BB' => { name: 'Barbados', iso2: 'BB', iso3: 'BRB', flag: 'ğŸ‡§ğŸ‡§' },
    'BY' => { name: 'Belarus', iso2: 'BY', iso3: 'BLR', flag: 'ğŸ‡§ğŸ‡¾' },
    'BE' => { name: 'Belgium', iso2: 'BE', iso3: 'BEL', flag: 'ğŸ‡§ğŸ‡ª' },
    'BZ' => { name: 'Belize', iso2: 'BZ', iso3: 'BLZ', flag: 'ğŸ‡§ğŸ‡¿' },
    'BJ' => { name: 'Benin', iso2: 'BJ', iso3: 'BEN', flag: 'ğŸ‡§ğŸ‡¯' },
    'BM' => { name: 'Bermuda', iso2: 'BM', iso3: 'BMU', flag: 'ğŸ‡§ğŸ‡²' },
    'BT' => { name: 'Bhutan', iso2: 'BT', iso3: 'BTN', flag: 'ğŸ‡§ğŸ‡¹' },
    'BO' => { name: 'Bolivia', iso2: 'BO', iso3: 'BOL', flag: 'ğŸ‡§ğŸ‡´' },
    'BA' => { name: 'Bosnia and Herzegovina', iso2: 'BA', iso3: 'BIH', flag: 'ğŸ‡§ğŸ‡¦' },
    'BW' => { name: 'Botswana', iso2: 'BW', iso3: 'BWA', flag: 'ğŸ‡§ğŸ‡¼' },
    'BR' => { name: 'Brazil', iso2: 'BR', iso3: 'BRA', flag: 'ğŸ‡§ğŸ‡·' },
    'BN' => { name: 'Brunei Darussalam', iso2: 'BN', iso3: 'BRN', flag: 'ğŸ‡§ğŸ‡³' },
    'BG' => { name: 'Bulgaria', iso2: 'BG', iso3: 'BGR', flag: 'ğŸ‡§ğŸ‡¬' },
    'BF' => { name: 'Burkina Faso', iso2: 'BF', iso3: 'BFA', flag: 'ğŸ‡§ğŸ‡«' },
    'BI' => { name: 'Burundi', iso2: 'BI', iso3: 'BDI', flag: 'ğŸ‡§ğŸ‡®' },
    'KH' => { name: 'Cambodia', iso2: 'KH', iso3: 'KHM', flag: 'ğŸ‡°ğŸ‡­' },
    'CM' => { name: 'Cameroon', iso2: 'CM', iso3: 'CMR', flag: 'ğŸ‡¨ğŸ‡²' },
    'CA' => { name: 'Canada', iso2: 'CA', iso3: 'CAN', flag: 'ğŸ‡¨ğŸ‡¦' },
    'CV' => { name: 'Cape Verde', iso2: 'CV', iso3: 'CPV', flag: 'ğŸ‡¨ğŸ‡»' },
    'KY' => { name: 'Cayman Islands', iso2: 'KY', iso3: 'CYM', flag: 'ğŸ‡°ğŸ‡¾' },
    'CF' => { name: 'Central African Republic', iso2: 'CF', iso3: 'CAF', flag: 'ğŸ‡¨ğŸ‡«' },
    'TD' => { name: 'Chad', iso2: 'TD', iso3: 'TCD', flag: 'ğŸ‡¹ğŸ‡©' },
    'CL' => { name: 'Chile', iso2: 'CL', iso3: 'CHL', flag: 'ğŸ‡¨ğŸ‡±' },
    'CN' => { name: 'China', iso2: 'CN', iso3: 'CHN', flag: 'ğŸ‡¨ğŸ‡³' },
    'CO' => { name: 'Colombia', iso2: 'CO', iso3: 'COL', flag: 'ğŸ‡¨ğŸ‡´' },
    'KM' => { name: 'Comoros', iso2: 'KM', iso3: 'COM', flag: 'ğŸ‡°ğŸ‡²' },
    'CG' => { name: 'Congo', iso2: 'CG', iso3: 'COG', flag: 'ğŸ‡¨ğŸ‡¬' },
    'CD' => { name: 'Congo, Democratic Republic of the', iso2: 'CD', iso3: 'COD', flag: 'ğŸ‡¨ğŸ‡©' },
    'CK' => { name: 'Cook Islands', iso2: 'CK', iso3: 'COK', flag: 'ğŸ‡¨ğŸ‡°' },
    'CR' => { name: 'Costa Rica', iso2: 'CR', iso3: 'CRI', flag: 'ğŸ‡¨ğŸ‡·' },
    'CI' => { name: 'CÃ´te d\'Ivoire', iso2: 'CI', iso3: 'CIV', flag: 'ğŸ‡¨ğŸ‡®' },
    'HR' => { name: 'Croatia', iso2: 'HR', iso3: 'HRV', flag: 'ğŸ‡­ğŸ‡·' },
    'CU' => { name: 'Cuba', iso2: 'CU', iso3: 'CUB', flag: 'ğŸ‡¨ğŸ‡º' },
    'CY' => { name: 'Cyprus', iso2: 'CY', iso3: 'CYP', flag: 'ğŸ‡¨ğŸ‡¾' },
    'CZ' => { name: 'Czech Republic', iso2: 'CZ', iso3: 'CZE', flag: 'ğŸ‡¨ğŸ‡¿' },
    'DK' => { name: 'Denmark', iso2: 'DK', iso3: 'DNK', flag: 'ğŸ‡©ğŸ‡°' },
    'DJ' => { name: 'Djibouti', iso2: 'DJ', iso3: 'DJI', flag: 'ğŸ‡©ğŸ‡¯' },
    'DM' => { name: 'Dominica', iso2: 'DM', iso3: 'DMA', flag: 'ğŸ‡©ğŸ‡²' },
    'DO' => { name: 'Dominican Republic', iso2: 'DO', iso3: 'DOM', flag: 'ğŸ‡©ğŸ‡´' },
    'EC' => { name: 'Ecuador', iso2: 'EC', iso3: 'ECU', flag: 'ğŸ‡ªğŸ‡¨' },
    'EG' => { name: 'Egypt', iso2: 'EG', iso3: 'EGY', flag: 'ğŸ‡ªğŸ‡¬' },
    'SV' => { name: 'El Salvador', iso2: 'SV', iso3: 'SLV', flag: 'ğŸ‡¸ğŸ‡»' },
    'GQ' => { name: 'Equatorial Guinea', iso2: 'GQ', iso3: 'GNQ', flag: 'ğŸ‡¬ğŸ‡¶' },
    'ER' => { name: 'Eritrea', iso2: 'ER', iso3: 'ERI', flag: 'ğŸ‡ªğŸ‡·' },
    'EE' => { name: 'Estonia', iso2: 'EE', iso3: 'EST', flag: 'ğŸ‡ªğŸ‡ª' },
    'ET' => { name: 'Ethiopia', iso2: 'ET', iso3: 'ETH', flag: 'ğŸ‡ªğŸ‡¹' },
    'FK' => { name: 'Falkland Islands (Malvinas)', iso2: 'FK', iso3: 'FLK', flag: 'ğŸ‡«ğŸ‡°' },
    'FO' => { name: 'Faroe Islands', iso2: 'FO', iso3: 'FRO', flag: 'ğŸ‡«ğŸ‡´' },
    'FJ' => { name: 'Fiji', iso2: 'FJ', iso3: 'FJI', flag: 'ğŸ‡«ğŸ‡¯' },
    'FI' => { name: 'Finland', iso2: 'FI', iso3: 'FIN', flag: 'ğŸ‡«ğŸ‡®' },
    'FR' => { name: 'France', iso2: 'FR', iso3: 'FRA', flag: 'ğŸ‡«ğŸ‡·' },
    'GF' => { name: 'French Guiana', iso2: 'GF', iso3: 'GUF', flag: 'ğŸ‡¬ğŸ‡«' },
    'PF' => { name: 'French Polynesia', iso2: 'PF', iso3: 'PYF', flag: 'ğŸ‡µğŸ‡«' },
    'GA' => { name: 'Gabon', iso2: 'GA', iso3: 'GAB', flag: 'ğŸ‡¬ğŸ‡¦' },
    'GM' => { name: 'Gambia', iso2: 'GM', iso3: 'GMB', flag: 'ğŸ‡¬ğŸ‡²' },
    'GE' => { name: 'Georgia', iso2: 'GE', iso3: 'GEO', flag: 'ğŸ‡¬ğŸ‡ª' },
    'DE' => { name: 'Germany', iso2: 'DE', iso3: 'DEU', flag: 'ğŸ‡©ğŸ‡ª' },
    'GH' => { name: 'Ghana', iso2: 'GH', iso3: 'GHA', flag: 'ğŸ‡¬ğŸ‡­' },
    'GI' => { name: 'Gibraltar', iso2: 'GI', iso3: 'GIB', flag: 'ğŸ‡¬ğŸ‡®' },
    'GR' => { name: 'Greece', iso2: 'GR', iso3: 'GRC', flag: 'ğŸ‡¬ğŸ‡·' },
    'GL' => { name: 'Greenland', iso2: 'GL', iso3: 'GRL', flag: 'ğŸ‡¬ğŸ‡±' },
    'GD' => { name: 'Grenada', iso2: 'GD', iso3: 'GRD', flag: 'ğŸ‡¬ğŸ‡©' },
    'GP' => { name: 'Guadeloupe', iso2: 'GP', iso3: 'GLP', flag: 'ğŸ‡¬ğŸ‡µ' },
    'GU' => { name: 'Guam', iso2: 'GU', iso3: 'GUM', flag: 'ğŸ‡¬ğŸ‡º' },
    'GT' => { name: 'Guatemala', iso2: 'GT', iso3: 'GTM', flag: 'ğŸ‡¬ğŸ‡¹' },
    'GG' => { name: 'Guernsey', iso2: 'GG', iso3: 'GGY', flag: 'ğŸ‡¬ğŸ‡¬' },
    'GN' => { name: 'Guinea', iso2: 'GN', iso3: 'GIN', flag: 'ğŸ‡¬ğŸ‡³' },
    'GW' => { name: 'Guinea-Bissau', iso2: 'GW', iso3: 'GNB', flag: 'ğŸ‡¬ğŸ‡¼' },
    'GY' => { name: 'Guyana', iso2: 'GY', iso3: 'GUY', flag: 'ğŸ‡¬ğŸ‡¾' },
    'HT' => { name: 'Haiti', iso2: 'HT', iso3: 'HTI', flag: 'ğŸ‡­ğŸ‡¹' },
    'VA' => { name: 'Holy See (Vatican City State)', iso2: 'VA', iso3: 'VAT', flag: 'ğŸ‡»ğŸ‡¦' },
    'HN' => { name: 'Honduras', iso2: 'HN', iso3: 'HND', flag: 'ğŸ‡­ğŸ‡³' },
    'HK' => { name: 'Hong Kong', iso2: 'HK', iso3: 'HKG', flag: 'ğŸ‡­ğŸ‡°' },
    'HU' => { name: 'Hungary', iso2: 'HU', iso3: 'HUN', flag: 'ğŸ‡­ğŸ‡º' },
    'IS' => { name: 'Iceland', iso2: 'IS', iso3: 'ISL', flag: 'ğŸ‡®ğŸ‡¸' },
    'IN' => { name: 'India', iso2: 'IN', iso3: 'IND', flag: 'ğŸ‡®ğŸ‡³' },
    'ID' => { name: 'Indonesia', iso2: 'ID', iso3: 'IDN', flag: 'ğŸ‡®ğŸ‡©' },
    'IR' => { name: 'Iran, Islamic Republic of', iso2: 'IR', iso3: 'IRN', flag: 'ğŸ‡®ğŸ‡·' },
    'IQ' => { name: 'Iraq', iso2: 'IQ', iso3: 'IRQ', flag: 'ğŸ‡®ğŸ‡¶' },
    'IE' => { name: 'Ireland', iso2: 'IE', iso3: 'IRL', flag: 'ğŸ‡®ğŸ‡ª' },
    'IM' => { name: 'Isle of Man', iso2: 'IM', iso3: 'IMN', flag: 'ğŸ‡®ğŸ‡²' },
    'IL' => { name: 'Israel', iso2: 'IL', iso3: 'ISR', flag: 'ğŸ‡®ğŸ‡±' },
    'IT' => { name: 'Italy', iso2: 'IT', iso3: 'ITA', flag: 'ğŸ‡®ğŸ‡¹' },
    'JM' => { name: 'Jamaica', iso2: 'JM', iso3: 'JAM', flag: 'ğŸ‡¯ğŸ‡²' },
    'JP' => { name: 'Japan', iso2: 'JP', iso3: 'JPN', flag: 'ğŸ‡¯ğŸ‡µ' },
    'JE' => { name: 'Jersey', iso2: 'JE', iso3: 'JEY', flag: 'ğŸ‡¯ğŸ‡ª' },
    'JO' => { name: 'Jordan', iso2: 'JO', iso3: 'JOR', flag: 'ğŸ‡¯ğŸ‡´' },
    'KZ' => { name: 'Kazakhstan', iso2: 'KZ', iso3: 'KAZ', flag: 'ğŸ‡°ğŸ‡¿' },
    'KE' => { name: 'Kenya', iso2: 'KE', iso3: 'KEN', flag: 'ğŸ‡°ğŸ‡ª' },
    'KI' => { name: 'Kiribati', iso2: 'KI', iso3: 'KIR', flag: 'ğŸ‡°ğŸ‡®' },
    'KP' => { name: 'Korea, Democratic People\'s Republic of', iso2: 'KP', iso3: 'PRK', flag: 'ğŸ‡°ğŸ‡µ' },
    'KR' => { name: 'Korea, Republic of', iso2: 'KR', iso3: 'KOR', flag: 'ğŸ‡°ğŸ‡·' },
    'KW' => { name: 'Kuwait', iso2: 'KW', iso3: 'KWT', flag: 'ğŸ‡°ğŸ‡¼' },
    'KG' => { name: 'Kyrgyzstan', iso2: 'KG', iso3: 'KGZ', flag: 'ğŸ‡°ğŸ‡¬' },
    'LA' => { name: 'Lao People\'s Democratic Republic', iso2: 'LA', iso3: 'LAO', flag: 'ğŸ‡±ğŸ‡¦' },
    'LV' => { name: 'Latvia', iso2: 'LV', iso3: 'LVA', flag: 'ğŸ‡±ğŸ‡»' },
    'LB' => { name: 'Lebanon', iso2: 'LB', iso3: 'LBN', flag: 'ğŸ‡±ğŸ‡§' },
    'LS' => { name: 'Lesotho', iso2: 'LS', iso3: 'LSO', flag: 'ğŸ‡±ğŸ‡¸' },
    'LR' => { name: 'Liberia', iso2: 'LR', iso3: 'LBR', flag: 'ğŸ‡±ğŸ‡·' },
    'LY' => { name: 'Libya', iso2: 'LY', iso3: 'LBY', flag: 'ğŸ‡±ğŸ‡¾' },
    'LI' => { name: 'Liechtenstein', iso2: 'LI', iso3: 'LIE', flag: 'ğŸ‡±ğŸ‡®' },
    'LT' => { name: 'Lithuania', iso2: 'LT', iso3: 'LTU', flag: 'ğŸ‡±ğŸ‡¹' },
    'LU' => { name: 'Luxembourg', iso2: 'LU', iso3: 'LUX', flag: 'ğŸ‡±ğŸ‡º' },
    'MO' => { name: 'Macao', iso2: 'MO', iso3: 'MAC', flag: 'ğŸ‡²ğŸ‡´' },
    'MK' => { name: 'North Macedonia', iso2: 'MK', iso3: 'MKD', flag: 'ğŸ‡²ğŸ‡°' },
    'MG' => { name: 'Madagascar', iso2: 'MG', iso3: 'MDG', flag: 'ğŸ‡²ğŸ‡¬' },
    'MW' => { name: 'Malawi', iso2: 'MW', iso3: 'MWI', flag: 'ğŸ‡²ğŸ‡¼' },
    'MY' => { name: 'Malaysia', iso2: 'MY', iso3: 'MYS', flag: 'ğŸ‡²ğŸ‡¾' },
    'MV' => { name: 'Maldives', iso2: 'MV', iso3: 'MDV', flag: 'ğŸ‡²ğŸ‡»' },
    'ML' => { name: 'Mali', iso2: 'ML', iso3: 'MLI', flag: 'ğŸ‡²ğŸ‡±' },
    'MT' => { name: 'Malta', iso2: 'MT', iso3: 'MLT', flag: 'ğŸ‡²ğŸ‡¹' },
    'MH' => { name: 'Marshall Islands', iso2: 'MH', iso3: 'MHL', flag: 'ğŸ‡²ğŸ‡­' },
    'MQ' => { name: 'Martinique', iso2: 'MQ', iso3: 'MTQ', flag: 'ğŸ‡²ğŸ‡¶' },
    'MR' => { name: 'Mauritania', iso2: 'MR', iso3: 'MRT', flag: 'ğŸ‡²ğŸ‡·' },
    'MU' => { name: 'Mauritius', iso2: 'MU', iso3: 'MUS', flag: 'ğŸ‡²ğŸ‡º' },
    'YT' => { name: 'Mayotte', iso2: 'YT', iso3: 'MYT', flag: 'ğŸ‡¾ğŸ‡¹' },
    'MX' => { name: 'Mexico', iso2: 'MX', iso3: 'MEX', flag: 'ğŸ‡²ğŸ‡½' },
    'FM' => { name: 'Micronesia, Federated States of', iso2: 'FM', iso3: 'FSM', flag: 'ğŸ‡«ğŸ‡²' },
    'MD' => { name: 'Moldova, Republic of', iso2: 'MD', iso3: 'MDA', flag: 'ğŸ‡²ğŸ‡©' },
    'MC' => { name: 'Monaco', iso2: 'MC', iso3: 'MCO', flag: 'ğŸ‡²ğŸ‡¨' },
    'MN' => { name: 'Mongolia', iso2: 'MN', iso3: 'MNG', flag: 'ğŸ‡²ğŸ‡³' },
    'ME' => { name: 'Montenegro', iso2: 'ME', iso3: 'MNE', flag: 'ğŸ‡²ğŸ‡ª' },
    'MS' => { name: 'Montserrat', iso2: 'MS', iso3: 'MSR', flag: 'ğŸ‡²ğŸ‡¸' },
    'MA' => { name: 'Morocco', iso2: 'MA', iso3: 'MAR', flag: 'ğŸ‡²ğŸ‡¦' },
    'MZ' => { name: 'Mozambique', iso2: 'MZ', iso3: 'MOZ', flag: 'ğŸ‡²ğŸ‡¿' },
    'MM' => { name: 'Myanmar', iso2: 'MM', iso3: 'MMR', flag: 'ğŸ‡²ğŸ‡²' },
    'NA' => { name: 'Namibia', iso2: 'NA', iso3: 'NAM', flag: 'ğŸ‡³ğŸ‡¦' },
    'NR' => { name: 'Nauru', iso2: 'NR', iso3: 'NRU', flag: 'ğŸ‡³ğŸ‡·' },
    'NP' => { name: 'Nepal', iso2: 'NP', iso3: 'NPL', flag: 'ğŸ‡³ğŸ‡µ' },
    'NL' => { name: 'Netherlands', iso2: 'NL', iso3: 'NLD', flag: 'ğŸ‡³ğŸ‡±' },
    'NC' => { name: 'New Caledonia', iso2: 'NC', iso3: 'NCL', flag: 'ğŸ‡³ğŸ‡¨' },
    'NZ' => { name: 'New Zealand', iso2: 'NZ', iso3: 'NZL', flag: 'ğŸ‡³ğŸ‡¿' },
    'NI' => { name: 'Nicaragua', iso2: 'NI', iso3: 'NIC', flag: 'ğŸ‡³ğŸ‡®' },
    'NE' => { name: 'Niger', iso2: 'NE', iso3: 'NER', flag: 'ğŸ‡³ğŸ‡ª' },
    'NG' => { name: 'Nigeria', iso2: 'NG', iso3: 'NGA', flag: 'ğŸ‡³ğŸ‡¬' },
    'NU' => { name: 'Niue', iso2: 'NU', iso3: 'NIU', flag: 'ğŸ‡³ğŸ‡º' },
    'NF' => { name: 'Norfolk Island', iso2: 'NF', iso3: 'NFK', flag: 'ğŸ‡³ğŸ‡«' },
    'MP' => { name: 'Northern Mariana Islands', iso2: 'MP', iso3: 'MNP', flag: 'ğŸ‡²ğŸ‡µ' },
    'NO' => { name: 'Norway', iso2: 'NO', iso3: 'NOR', flag: 'ğŸ‡³ğŸ‡´' },
    'OM' => { name: 'Oman', iso2: 'OM', iso3: 'OMN', flag: 'ğŸ‡´ğŸ‡²' },
    'PK' => { name: 'Pakistan', iso2: 'PK', iso3: 'PAK', flag: 'ğŸ‡µğŸ‡°' },
    'PW' => { name: 'Palau', iso2: 'PW', iso3: 'PLW', flag: 'ğŸ‡µğŸ‡¼' },
    'PS' => { name: 'Palestine, State of', iso2: 'PS', iso3: 'PSE', flag: 'ğŸ‡µğŸ‡¸' },
    'PA' => { name: 'Panama', iso2: 'PA', iso3: 'PAN', flag: 'ğŸ‡µğŸ‡¦' },
    'PG' => { name: 'Papua New Guinea', iso2: 'PG', iso3: 'PNG', flag: 'ğŸ‡µğŸ‡¬' },
    'PY' => { name: 'Paraguay', iso2: 'PY', iso3: 'PRY', flag: 'ğŸ‡µğŸ‡¾' },
    'PE' => { name: 'Peru', iso2: 'PE', iso3: 'PER', flag: 'ğŸ‡µğŸ‡ª' },
    'PH' => { name: 'Philippines', iso2: 'PH', iso3: 'PHL', flag: 'ğŸ‡µğŸ‡­' },
    'PN' => { name: 'Pitcairn', iso2: 'PN', iso3: 'PCN', flag: 'ğŸ‡µğŸ‡³' },
    'PL' => { name: 'Poland', iso2: 'PL', iso3: 'POL', flag: 'ğŸ‡µğŸ‡±' },
    'PT' => { name: 'Portugal', iso2: 'PT', iso3: 'PRT', flag: 'ğŸ‡µğŸ‡¹' },
    'PR' => { name: 'Puerto Rico', iso2: 'PR', iso3: 'PRI', flag: 'ğŸ‡µğŸ‡·' },
    'QA' => { name: 'Qatar', iso2: 'QA', iso3: 'QAT', flag: 'ğŸ‡¶ğŸ‡¦' },
    'RE' => { name: 'RÃ©union', iso2: 'RE', iso3: 'REU', flag: 'ğŸ‡·ğŸ‡ª' },
    'RO' => { name: 'Romania', iso2: 'RO', iso3: 'ROU', flag: 'ğŸ‡·ğŸ‡´' },
    'RU' => { name: 'Russian Federation', iso2: 'RU', iso3: 'RUS', flag: 'ğŸ‡·ğŸ‡º' },
    'RW' => { name: 'Rwanda', iso2: 'RW', iso3: 'RWA', flag: 'ğŸ‡·ğŸ‡¼' },
    'BL' => { name: 'Saint BarthÃ©lemy', iso2: 'BL', iso3: 'BLM', flag: 'ğŸ‡§ğŸ‡±' },
    'SH' => { name: 'Saint Helena, Ascension and Tristan da Cunha', iso2: 'SH', iso3: 'SHN', flag: 'ğŸ‡¸ğŸ‡­' },
    'KN' => { name: 'Saint Kitts and Nevis', iso2: 'KN', iso3: 'KNA', flag: 'ğŸ‡°ğŸ‡³' },
    'LC' => { name: 'Saint Lucia', iso2: 'LC', iso3: 'LCA', flag: 'ğŸ‡±ğŸ‡¨' },
    'MF' => { name: 'Saint Martin (French part)', iso2: 'MF', iso3: 'MAF', flag: 'ğŸ‡²ğŸ‡«' },
    'PM' => { name: 'Saint Pierre and Miquelon', iso2: 'PM', iso3: 'SPM', flag: 'ğŸ‡µğŸ‡²' },
    'VC' => { name: 'Saint Vincent and the Grenadines', iso2: 'VC', iso3: 'VCT', flag: 'ğŸ‡»ğŸ‡¨' },
    'WS' => { name: 'Samoa', iso2: 'WS', iso3: 'WSM', flag: 'ğŸ‡¼ğŸ‡¸' },
    'SM' => { name: 'San Marino', iso2: 'SM', iso3: 'SMR', flag: 'ğŸ‡¸ğŸ‡²' },
    'ST' => { name: 'Sao Tome and Principe', iso2: 'ST', iso3: 'STP', flag: 'ğŸ‡¸ğŸ‡¹' },
    'SA' => { name: 'Saudi Arabia', iso2: 'SA', iso3: 'SAU', flag: 'ğŸ‡¸ğŸ‡¦' },
    'SN' => { name: 'Senegal', iso2: 'SN', iso3: 'SEN', flag: 'ğŸ‡¸ğŸ‡³' },
    'RS' => { name: 'Serbia', iso2: 'RS', iso3: 'SRB', flag: 'ğŸ‡·ğŸ‡¸' },
    'SC' => { name: 'Seychelles', iso2: 'SC', iso3: 'SYC', flag: 'ğŸ‡¸ğŸ‡¨' },
    'SL' => { name: 'Sierra Leone', iso2: 'SL', iso3: 'SLE', flag: 'ğŸ‡¸ğŸ‡±' },
    'SG' => { name: 'Singapore', iso2: 'SG', iso3: 'SGP', flag: 'ğŸ‡¸ğŸ‡¬' },
    'SX' => { name: 'Sint Maarten (Dutch part)', iso2: 'SX', iso3: 'SXM', flag: 'ğŸ‡¸ğŸ‡½' },
    'SK' => { name: 'Slovakia', iso2: 'SK', iso3: 'SVK', flag: 'ğŸ‡¸ğŸ‡°' },
    'SI' => { name: 'Slovenia', iso2: 'SI', iso3: 'SVN', flag: 'ğŸ‡¸ğŸ‡®' },
    'SB' => { name: 'Solomon Islands', iso2: 'SB', iso3: 'SLB', flag: 'ğŸ‡¸ğŸ‡§' },
    'SO' => { name: 'Somalia', iso2: 'SO', iso3: 'SOM', flag: 'ğŸ‡¸ğŸ‡´' },
    'ZA' => { name: 'South Africa', iso2: 'ZA', iso3: 'ZAF', flag: 'ğŸ‡¿ğŸ‡¦' },
    'GS' => { name: 'South Georgia and the South Sandwich Islands', iso2: 'GS', iso3: 'SGS', flag: 'ğŸ‡¬ğŸ‡¸' },
    'SS' => { name: 'South Sudan', iso2: 'SS', iso3: 'SSD', flag: 'ğŸ‡¸ğŸ‡¸' },
    'ES' => { name: 'Spain', iso2: 'ES', iso3: 'ESP', flag: 'ğŸ‡ªğŸ‡¸' },
    'LK' => { name: 'Sri Lanka', iso2: 'LK', iso3: 'LKA', flag: 'ğŸ‡±ğŸ‡°' },
    'SD' => { name: 'Sudan', iso2: 'SD', iso3: 'SDN', flag: 'ğŸ‡¸ğŸ‡©' },
    'SR' => { name: 'Suriname', iso2: 'SR', iso3: 'SUR', flag: 'ğŸ‡¸ğŸ‡·' },
    'SJ' => { name: 'Svalbard and Jan Mayen', iso2: 'SJ', iso3: 'SJM', flag: 'ğŸ‡¸ğŸ‡¯' },
    'SE' => { name: 'Sweden', iso2: 'SE', iso3: 'SWE', flag: 'ğŸ‡¸ğŸ‡ª' },
    'CH' => { name: 'Switzerland', iso2: 'CH', iso3: 'CHE', flag: 'ğŸ‡¨ğŸ‡­' },
    'SY' => { name: 'Syrian Arab Republic', iso2: 'SY', iso3: 'SYR', flag: 'ğŸ‡¸ğŸ‡¾' },
    'TW' => { name: 'Taiwan, Province of China', iso2: 'TW', iso3: 'TWN', flag: 'ğŸ‡¹ğŸ‡¼' },
    'TJ' => { name: 'Tajikistan', iso2: 'TJ', iso3: 'TJK', flag: 'ğŸ‡¹ğŸ‡¯' },
    'TZ' => { name: 'Tanzania, United Republic of', iso2: 'TZ', iso3: 'TZA', flag: 'ğŸ‡¹ğŸ‡¿' },
    'TH' => { name: 'Thailand', iso2: 'TH', iso3: 'THA', flag: 'ğŸ‡¹ğŸ‡­' },
    'TL' => { name: 'Timor-Leste', iso2: 'TL', iso3: 'TLS', flag: 'ğŸ‡¹ğŸ‡±' },
    'TG' => { name: 'Togo', iso2: 'TG', iso3: 'TGO', flag: 'ğŸ‡¹ğŸ‡¬' },
    'TK' => { name: 'Tokelau', iso2: 'TK', iso3: 'TKL', flag: 'ğŸ‡¹ğŸ‡°' },
    'TO' => { name: 'Tonga', iso2: 'TO', iso3: 'TON', flag: 'ğŸ‡¹ğŸ‡´' },
    'TT' => { name: 'Trinidad and Tobago', iso2: 'TT', iso3: 'TTO', flag: 'ğŸ‡¹ğŸ‡¹' },
    'TN' => { name: 'Tunisia', iso2: 'TN', iso3: 'TUN', flag: 'ğŸ‡¹ğŸ‡³' },
    'TR' => { name: 'Turkey', iso2: 'TR', iso3: 'TUR', flag: 'ğŸ‡¹ğŸ‡·' },
    'TM' => { name: 'Turkmenistan', iso2: 'TM', iso3: 'TKM', flag: 'ğŸ‡¹ğŸ‡²' },
    'TC' => { name: 'Turks and Caicos Islands', iso2: 'TC', iso3: 'TCA', flag: 'ğŸ‡¹ğŸ‡¨' },
    'TV' => { name: 'Tuvalu', iso2: 'TV', iso3: 'TUV', flag: 'ğŸ‡¹ğŸ‡»' },
    'UG' => { name: 'Uganda', iso2: 'UG', iso3: 'UGA', flag: 'ğŸ‡ºğŸ‡¬' },
    'UA' => { name: 'Ukraine', iso2: 'UA', iso3: 'UKR', flag: 'ğŸ‡ºğŸ‡¦' },
    'AE' => { name: 'United Arab Emirates', iso2: 'AE', iso3: 'ARE', flag: 'ğŸ‡¦ğŸ‡ª' },
    'GB' => { name: 'United Kingdom', iso2: 'GB', iso3: 'GBR', flag: 'ğŸ‡¬ğŸ‡§' },
    'US' => { name: 'United States', iso2: 'US', iso3: 'USA', flag: 'ğŸ‡ºğŸ‡¸' },
    'UM' => { name: 'United States Minor Outlying Islands', iso2: 'UM', iso3: 'UMI', flag: 'ğŸ‡ºğŸ‡²' },
    'UY' => { name: 'Uruguay', iso2: 'UY', iso3: 'URY', flag: 'ğŸ‡ºğŸ‡¾' },
    'UZ' => { name: 'Uzbekistan', iso2: 'UZ', iso3: 'UZB', flag: 'ğŸ‡ºğŸ‡¿' },
    'VU' => { name: 'Vanuatu', iso2: 'VU', iso3: 'VUT', flag: 'ğŸ‡»ğŸ‡º' },
    'VE' => { name: 'Venezuela, Bolivarian Republic of', iso2: 'VE', iso3: 'VEN', flag: 'ğŸ‡»ğŸ‡ª' },
    'VN' => { name: 'Viet Nam', iso2: 'VN', iso3: 'VNM', flag: 'ğŸ‡»ğŸ‡³' },
    'VG' => { name: 'Virgin Islands, British', iso2: 'VG', iso3: 'VGB', flag: 'ğŸ‡»ğŸ‡¬' },
    'VI' => { name: 'Virgin Islands, U.S.', iso2: 'VI', iso3: 'VIR', flag: 'ğŸ‡»ğŸ‡®' },
    'WF' => { name: 'Wallis and Futuna', iso2: 'WF', iso3: 'WLF', flag: 'ğŸ‡¼ğŸ‡«' },
    'EH' => { name: 'Western Sahara', iso2: 'EH', iso3: 'ESH', flag: 'ğŸ‡ªğŸ‡­' },
    'YE' => { name: 'Yemen', iso2: 'YE', iso3: 'YEM', flag: 'ğŸ‡¾ğŸ‡ª' },
    'ZM' => { name: 'Zambia', iso2: 'ZM', iso3: 'ZMB', flag: 'ğŸ‡¿ğŸ‡²' },
    'ZW' => { name: 'Zimbabwe', iso2: 'ZW', iso3: 'ZWE', flag: 'ğŸ‡¿ğŸ‡¼' }
  }.freeze

  # Country name aliases and variations for better matching
  COUNTRY_ALIASES = {
    'Russia' => 'Russian Federation',
    'South Korea' => 'Korea, Republic of',
    'North Korea' => 'Korea, Democratic People\'s Republic of',
    'United States of America' => 'United States',
    'USA' => 'United States',
    'UK' => 'United Kingdom',
    'Britain' => 'United Kingdom',
    'Great Britain' => 'United Kingdom',
    'England' => 'United Kingdom',
    'Scotland' => 'United Kingdom',
    'Wales' => 'United Kingdom',
    'Northern Ireland' => 'United Kingdom',
    'Macedonia' => 'North Macedonia',
    'Czech Republic' => 'Czech Republic',
    'Czechia' => 'Czech Republic',
    'Vatican' => 'Holy See (Vatican City State)',
    'Vatican City' => 'Holy See (Vatican City State)',
    'Taiwan' => 'Taiwan, Province of China',
    'Hong Kong SAR' => 'Hong Kong',
    'Macao SAR' => 'Macao',
    'Moldova' => 'Moldova, Republic of',
    'Bolivia' => 'Bolivia',
    'Venezuela' => 'Venezuela, Bolivarian Republic of',
    'Iran' => 'Iran, Islamic Republic of',
    'Syria' => 'Syrian Arab Republic',
    'Tanzania' => 'Tanzania, United Republic of',
    'Laos' => 'Lao People\'s Democratic Republic',
    'Vietnam' => 'Viet Nam',
    'Palestine' => 'Palestine, State of',
    'Congo' => 'Congo',
    'Democratic Republic of Congo' => 'Congo, Democratic Republic of the',
    'DRC' => 'Congo, Democratic Republic of the',
    'Ivory Coast' => 'CÃ´te d\'Ivoire',
    'Cape Verde' => 'Cape Verde',
    'East Timor' => 'Timor-Leste',
    'Burma' => 'Myanmar',
    'Swaziland' => 'Eswatini'
  }.freeze

  def self.iso_a3_from_a2(iso_a2)
    return nil if iso_a2.blank?

    country_data = COUNTRIES[iso_a2.upcase]
    country_data&.dig(:iso3)
  end

  def self.iso_codes_from_country_name(country_name)
    return [nil, nil] if country_name.blank?

    # Try exact match first
    country_data = find_country_by_name(country_name)
    return [country_data[:iso2], country_data[:iso3]] if country_data

    # Try aliases
    standard_name = COUNTRY_ALIASES[country_name]
    if standard_name
      country_data = find_country_by_name(standard_name)
      return [country_data[:iso2], country_data[:iso3]] if country_data
    end

    # Try case-insensitive match
    country_data = COUNTRIES.values.find { |data| data[:name].downcase == country_name.downcase }
    return [country_data[:iso2], country_data[:iso3]] if country_data

    # Try partial match (country name contains or is contained in a known name)
    country_data = COUNTRIES.values.find do |data|
      data[:name].downcase.include?(country_name.downcase) ||
        country_name.downcase.include?(data[:name].downcase)
    end
    return [country_data[:iso2], country_data[:iso3]] if country_data

    # No match found
    [nil, nil]
  end

  def self.fallback_codes_from_country_name(country_name)
    return [nil, nil] if country_name.blank?

    # First try to find proper ISO codes from country name
    iso_a2, iso_a3 = iso_codes_from_country_name(country_name)
    return [iso_a2, iso_a3] if iso_a2 && iso_a3

    # Only use character-based fallback as a last resort
    # This is still not ideal but better than nothing
    fallback_a2 = country_name[0..1].upcase
    fallback_a3 = country_name[0..2].upcase

    [fallback_a2, fallback_a3]
  end

  def self.standardize_country_name(country_name)
    return nil if country_name.blank?

    # Try exact match first
    country_data = find_country_by_name(country_name)
    return country_data[:name] if country_data

    # Try aliases
    standard_name = COUNTRY_ALIASES[country_name]
    return standard_name if standard_name

    # Try case-insensitive match
    country_data = COUNTRIES.values.find { |data| data[:name].downcase == country_name.downcase }
    return country_data[:name] if country_data

    # Try partial match
    country_data = COUNTRIES.values.find do |data|
      data[:name].downcase.include?(country_name.downcase) ||
        country_name.downcase.include?(data[:name].downcase)
    end
    return country_data[:name] if country_data

    nil
  end

  def self.country_flag(iso_a2)
    return nil if iso_a2.blank?

    country_data = COUNTRIES[iso_a2.upcase]
    country_data&.dig(:flag)
  end

  def self.country_by_iso2(iso_a2)
    return nil if iso_a2.blank?

    COUNTRIES[iso_a2.upcase]
  end

  def self.country_by_name(country_name)
    return nil if country_name.blank?

    find_country_by_name(country_name) ||
      find_country_by_name(COUNTRY_ALIASES[country_name]) ||
      COUNTRIES.values.find { |data| data[:name].downcase == country_name.downcase }
  end

  def self.all_countries
    COUNTRIES.values
  end

  private

  def self.find_country_by_name(name)
    return nil if name.blank?

    COUNTRIES.values.find { |data| data[:name] == name }
  end
end
